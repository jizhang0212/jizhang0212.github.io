# 绘制生存曲线
fit.surv <- survfit(Surv(data$dfsmos, data$dfsstat) ~ indrx,data=data)
#KM估计
plot(fit.surv,  col = c("steelblue1", "red2","orange","darkseagreen4"), lwd = 2, main = "Kaplan-Meier Disease Free Survival Curve", xlab = "Disease Free Survival Months", ylab = "Disease Free Survival Probability")
legend("bottomleft", legend = c("CA-4","CA-6","T-4","T-6"), col = c("steelblue1", "red2", "orange", "darkseagreen4"), lwd = 2, title = "indrx")
#log-rank test
survdiff(Surv(data$dfsmos, data$dfsstat) ~ length + agent, data = data)
logrank<- survdiff(Surv(data$dfsmos, data$dfsstat) ~ agent , data = data)
logrank
logrank_fixed_length <- survdiff(Surv(data$dfsmos, data$dfsstat) ~ agent + strata(length), data = data,)
logrank_fixed_length
logrank<- survdiff(Surv(data$dfsmos, data$dfsstat) ~ length, data = data)
logrank
logrank_fixed_agent <- survdiff(Surv(data$dfsmos, data$dfsstat) ~ length + strata(agent), data = data)
logrank_fixed_agent
#cox model
coxph(Surv(data$dfsmos, data$dfsstat) ~ agent + length , data = data)
coxph(Surv(data$dfsmos, data$dfsstat) ~ agent * length , data = data)
coxph(Surv(data$dfsmos, data$dfsstat) ~ agent , data = data)
library(survival)
# 绘制生存曲线
fit.surv <- survfit(Surv(data$survmos, data$survstat) ~ indrx,data=data)
#KM估计
plot(fit.surv,  col = c("blue", "red","orange","gray"), lwd = 2, main = "Kaplan-Meier Survival Curve", xlab = "Survival Months", ylab = "Survival Probability")
legend("bottomleft", legend = c("CA-4","CA-6","T-4","T-6"), col = c("blue", "red","orange","gray"), lwd = 2, title = "indrx")
#log-rank test
survdiff(Surv(data$survmos, data$survstat) ~ length + agent, data = data)
logrank<- survdiff(Surv(data$survmos, data$survstat) ~ agent , data = data)
logrank
logrank_fixed_length <- survdiff(Surv(data$survmos, data$survstat) ~ agent + strata(length), data = data)
logrank_fixed_length
logrank<- survdiff(Surv(data$survmos, data$survstat) ~ length, data = data)
logrank
logrank_fixed_agent <- survdiff(Surv(data$survmos, data$survstat) ~ length + strata(agent), data = data)
logrank_fixed_agent
#cox model
coxph(Surv(data$survmos, data$survstat) ~ agent + length , data = data)
coxph(Surv(data$survmos, data$survstat) ~ agent * length , data = data)
coxph(Surv(data$survmos, data$survstat) ~ agent , data = data)
load("~/Desktop/ICPSR_38899/DS0001/38899-0001-Data.rda")
load("~/Desktop/ICPSR_38899/DS0001/38899-0001-Data.rda")
View(da38899.0001)
load("~/Desktop/ICPSR_38899/DS0002/38899-0002-Data.rda")
View(da38899.0002)
View(da38899.0002)
load("~/Desktop/ICPSR_38899/DS0003/38899-0003-Data.rda")
View(da38899.0003)
View(da38899.0003)
load("~/Desktop/ICPSR_38899/DS0004/38899-0004-Data.rda")
View(da38899.0004)
View(da38899.0001)
View(da38899.0001)
View(da38899.0002)
View(da38899.0002)
load("~/Desktop/ICPSR_37227/DS0001/37227-0001-Data.rda")
View(da37227.0001)
load("~/Desktop/ICPSR_37227/DS0002/37227-0002-Data.rda")
View(da37227.0002)
View(da37227.0002)
load("~/Desktop/ICPSR_37227/DS0003/37227-0003-Data.rda")
View(da37227.0003)
View(da37227.0003)
load("~/Desktop/ICPSR_37226/DS0001/37226-0001-Data.rda")
View(da37226.0001)
load("~/Desktop/ICPSR_37226/DS0002/37226-0002-Data.rda")
View(da37226.0002)
View(da37226.0002)
load("~/Desktop/ICPSR_37226/DS0003/37226-0003-Data.rda")
load("~/Desktop/ICPSR_36692/DS0001/36692-0001-Data.rda")
View(da36692.0001)
load("~/Desktop/ICPSR_36692/DS0002/36692-0002-Data.rda")
load("~/Desktop/ICPSR_36692/DS0003/36692-0003-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0002/38899-0002-Data.rda")
View(da38899.0002)
View(da38899.0002)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.rda")
View(da38899.0001)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0002/38899-0002-Data.rda")
View(da38899.0002)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0003/38899-0003-Data.rda")
View(da38899.0003)
View(da38899.0003)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0004/38899-0004-Data.rda")
View(da38899.0004)
View(da38899.0001)
# 步骤1: 加载 .rda 文件
load("Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.rda") # 替换为你的文件路径
# 假设加载后，你的数据存储在一个名为 data 的对象中
# 如果你不知道对象的名字，可以通过 ls() 查看
# 步骤2: 安装并加载 openxlsx 包
install.packages("openxlsx") # 如果尚未安装
library(openxlsx)
# 步骤3: 将数据写入 .xlsx 文件
write.xlsx(data, "Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.xlsx") # 替换为你希望保存的文件路径
# 步骤1: 加载 .rda 文件
load("Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.rda") #
library(openxlsx)
# 步骤3: 将数据写入 .xlsx 文件
write.xlsx(data, "Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.xlsx") # 替换为你希望保存的文件路径
ls()
gc()
# 步骤1: 加载 .rda 文件
load("Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.rda") # 替换为你的文件路径
# 假设加载后，你的数据存储在一个名为 data 的对象中
# 如果你不知道对象的名字，可以通过 ls() 查看
# 步骤2: 安装并加载 openxlsx 包
install.packages("openxlsx") # 如果尚未安装
library(openxlsx)
# 步骤3: 将数据写入 .xlsx 文件
write.xlsx(data, "Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.xlsx") # 替换为你希望保存的文件路径
install.packages("openxlsx")
write.xlsx(data, "Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.xlsx")
write.xlsx(data, "Desktop/毕设/ICPSR_38899中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.xlsx")
write.xlsx(data, "Desktop//38899-0001-Data.xlsx")
write.xlsx(data, "Desktop/38899-0001-Data.xlsx")
library(openxlsx)
write.xlsx(x = da38899.0001, "Desktop/38899-0001-Data.xlsx")
write.xlsx(x = da38899.0001, "Desktop/38899-0001-Data.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0002/38899-0002-Data.rda")
library(openxlsx)
# Assuming the data is stored in an object called `data`
write.xlsx(da38899.0002, "38899-0002-Data.xlsx")
# Assuming the data is stored in an object called `data`
write.xlsx(da38899.0002, "38899-0002-Data.xlsx")
library(haven)
dataset <- read_sas(NULL, NULL)
gc()
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0002/38899-0002-Data.rda")
View(da38899.0002)
write.xlsx(da38899.0002, "38899-0002-Data.xlsx")
library(openxlsx)
write.xlsx(da38899.0002, "38899-0002-Data.xlsx")
write.xlsx(da38899.0002, "Desktop/38899-0002-Data.xlsx")
gc()
library(openxlsx)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0003/38899-0003-Data.rda")
write.xlsx(da38899.0003, "Desktop/38899-0003-Data.xlsx")
gc()
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0004/38899-0004-Data.rda")
write.xlsx(da38899.0004, "Desktop/38899-0004-Data.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0005/38899-0005-Data.rda")
write.xlsx(da38899.0005, "Desktop/38899-0005-Data.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0006/38899-0006-Data.rda")
write.xlsx(da38899.0006, "Desktop/38899-0006-Data.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0007/38899-0007-Data.rda")
write.xlsx(da38899.0007, "Desktop/38899-0007-Data.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0008/38899-0008-Data.rda")
write.xlsx(da38899.0008, "Desktop/38899-0008-Data.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0002/38899-0002-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0003/38899-0003-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0004/38899-0004-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0005/38899-0005-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0006/38899-0006-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0007/38899-0007-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0008/38899-0008-Data.rda")
library(dplyr)
library(tidyr)
library(dplyr)
data_1998 <- da38899.0001.csv
data_1998 <- da38899.0001
data_2000 <- da38899.0002
data_2002 <- da38899.0003
data_2005 <- da38899.0004
data_2008 <- da38899.0005
data_2011 <- da38899.0006
data_2014 <- da38899.0007
data_2018 <- da38899.0008
# 为每个数据表添加年份信息
data_1998$year <- 1998
data_2000$year <- 2000
data_2002$year <- 2002
data_2005$year <- 2005
data_2008$year <- 2008
data_2011$year <- 2011
data_2014$year <- 2014
data_2018$year <- 2018
# 选择 'id' 和 'year' 列，并将数据合并
combined_data <- bind_rows(
data_1998 %>% select(id, year),
data_2000 %>% select(id, year),
data_2002 %>% select(id, year),
data_2005 %>% select(id, year),
data_2008 %>% select(id, year),
data_2011 %>% select(id, year),
data_2014 %>% select(id, year),
data_2018 %>% select(id, year)
)
View(data_1998)
View(data_1998)
data_1998 <- da38899.0001
data_2000 <- da38899.0002
data_2002 <- da38899.0003
data_2005 <- da38899.0004
data_2008 <- da38899.0005
data_2011 <- da38899.0006
data_2014 <- da38899.0007
data_2018 <- da38899.0008
# 为每个数据表添加年份信息
data_1998$year <- 1998
data_2000$year <- 2000
data_2002$year <- 2002
data_2005$year <- 2005
data_2008$year <- 2008
data_2011$year <- 2011
data_2014$year <- 2014
data_2018$year <- 2018
# 选择 'id' 和 'year' 列，并将数据合并
combined_data <- bind_rows(
data_1998 %>% select(ID, year),
data_2000 %>% select(ID, year),
data_2002 %>% select(ID, year),
data_2005 %>% select(ID, year),
data_2008 %>% select(ID, year),
data_2011 %>% select(ID, year),
data_2014 %>% select(ID, year),
data_2018 %>% select(ID, year)
)
# 将数据转换为每个id在每年是否有数据的形式
final_table <- combined_data %>%
distinct() %>%
pivot_wider(names_from = year, values_from = year, values_fn = length, values_fill = list(year = 0)) %>%
mutate(across(everything(), ~ifelse(. > 0, 1, 0)))
# 显示最终的表格
print(final_table)
library(openxlsx)
write.xlsx(final_table, "Desktop/ID-year.xlsx")
View(data_1998)
View(data_1998)
combined_data <- bind_rows(
data_1998 %>% select(ID, year),
data_2000 %>% select(ID, year),
data_2002 %>% select(ID, year),
data_2005 %>% select(ID, year),
data_2008 %>% select(ID, year),
data_2011 %>% select(ID, year),
data_2014 %>% select(ID, year),
data_2018 %>% select(ID, year)
)
# 去重以确保每个id每年只有一行数据
combined_data <- combined_data %>% distinct()
final_table <- combined_data %>%
pivot_wider(names_from = year, values_from = year,
values_fn = length, values_fill = list(year = 0)) %>%
mutate(across(everything(), ~ifelse(. > 0, 1, 0)))
final_table
combined_data
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 使用 dplyr 和 tidyr 来转换数据
result <- combined_data %>%
mutate(present = 1) %>%
spread(key = year, value = present, fill = 0) %>%
select(ID, all_of(all_years))
data = combined_data
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 使用 dplyr 和 tidyr 来转换数据
result <- data %>%
mutate(present = 1) %>%
spread(key = year, value = present, fill = 0) %>%
select(ID, all_of(all_years))
library(dplyr)
library(tidyr)
# 定义所有的年份
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 使用 dplyr 和 tidyr 来转换数据
result <- data %>%
mutate(present = 1) %>%  # 创建表示年份是否出现的列
pivot_wider(names_from = year, values_from = present, values_fill = list(present = 0)) %>%
select(ID, all_of(all_years))  # 按所有年份的顺序选择列
data
# 所有可能的年份
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 为每个ID生成所有年份的记录
expanded_data <- data %>%
complete(ID, year = all_years, fill = list(present = 0)) %>%
mutate(present = ifelse(is.na(present), 0, 1))
rlang::last_trace()
# 所有可能的年份
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 为每个ID生成所有年份的记录
expanded_data <- data %>%
complete(ID, year = all_years, fill = list(present = 0)) %>%
mutate(present = ifelse(!is.na(year), 1, 0))  # 创建 'present' 列，标记年份是否出现
result_wide <- expanded_data %>%
pivot_wider(names_from = year, values_from = present, values_fill = list(present = 0))
# 查看转换后的宽格式数据
print(result_wide)
View(result_wide)
View(combined_data)
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 生成所有年份的完整记录
expanded_data <- data %>%
complete(ID, year = all_years, fill = list(present = 0)) %>%  # 填充缺失值
group_by(ID, year) %>%
mutate(present = ifelse(year %in% data$year, 1, 0)) %>%  # 根据实际年份设置为1，其他为0
ungroup()
result_wide <- expanded_data %>%
pivot_wider(names_from = year, values_from = present, values_fill = list(present = 0))
# 查看转换后的宽格式数据
print(result_wide)
result_wide <- expanded_data %>%
pivot_wider(names_from = year, values_from = present, values_fill = list(present = 0))
# 查看转换后的宽格式数据
print(result_wide)
all_years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 生成所有年份的完整记录
expanded_data <- data %>%
complete(ID, year = all_years, fill = list(present = 0)) %>%  # 填充缺失值
group_by(ID, year) %>%
mutate(present = ifelse(year %in% data$year, 1, 0)) %>%  # 根据实际年份设置为1，其他为0
ungroup()
result_wide
View(result_wide)
View(combined_data)
combined_data
View(da38899.0008)
View(da38899.0001)
years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 创建空表格
result <- data.frame(ID = unique(data$ID))
# 对于每个年份，检查ID是否出现在该年份中
for (year in years) {
result[[as.character(year)]] <- ifelse(data$year == year, 1, 0)
}
years <- c(1998, 2000, 2002, 2005, 2008, 2011, 2014, 2018)
# 创建一个空的数据框用于存储结果
result <- data.frame(ID = unique(data$ID))
# 对每个目标年份进行处理，生成对应列
for (year in years) {
# 为每个年份创建一个标记列，检查该ID是否在该年份出现
result[[as.character(year)]] <- ifelse(result$ID %in% data$ID[data$year == year], 1, 0)
}
# 输出结果
print(result)
View(result)
write.xlsx(result, "Desktop/result_data.xlsx")
View(combined_data)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0001/38899-0001-Data.rda")
View(da38899.0001)
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 <- da38899.0001[c("ID", "V_BTHYR", "PROV", "RELATION", "RESIDENC", "TRUEAGE", "A1", "A52",
"B11", "B12", "B21", "B22", "B23", "B24", "B25", "B26", "B27", "D1", "D2",
"D31", "D32", "D4MEAT2", "D4FISH2", "D4EGG2", "D4BEAN2", "D4VEG2", "D4SUGA2",
"D4TEA2", "D4GARL2", "D5", "D71", "D4MEAT1", "D4FISH1", "D4EGG1", "D4BEAN1",
"D4SUGA1", "D4TEA1", "D4GARL1", "D73", "D75", "D81", "D83", "D84", "D86",
"D91", "D101", "D102", "D103", "D11A", "D11B", "D11C", "D11D", "D11E", "D11F",
"D11G", "D11H", "F1", "F2", "F31", "F32", "F34", "D2INCOME", "F41", "F42",
"F43A4", "F61", "F72", "F82", "G1", "G21", "G22", "G3", "G51", "G52", "G10",
"G11", "G13", "G15I1", "G15A1", "G15G1", "D2VAGE", "D2ILL", "G01_11", "G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A","D11B","D11C","D11D","D11E","D11F")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D101","D102","D103","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86_0","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91)]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91)]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91)]
.
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D86","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34","D2INCOME")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10_0","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10_0","G11_0","G13_0","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
da98 = da38899.0001[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10_0","G11_0","G13_0","G15I1_0","G15A1_0","G15G1_0","D2VAGE","D2ILL","G01_11","G02_5")]
View(da98)
library(openxlsx)
write.xlsx(da98, "Desktop/da98.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0002/38899-0002-Data.rda")
da00 = da38899.0002[c("ID","V_BTHYR","PROV","RELATION","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10_0","G11_0","G13_0","G15I1_0","G15A1_0","G15G1_0","D2VAGE","D2ILL","G01_11","G02_5")]
View(da38899.0002)
da00 = da38899.0002[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D5B","D5C","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A_0","D11B_0","D11C_0","D11D_0","D11E_0","D11F_0","D11G_0","D11H_0","F1","F2","F31","F32","F34_0","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10_0","G11_0","G13_0","G15I1_0","G15A1_0","G15G1_0","D2VAGE","D2ILL","G01_11","G02_5")]
column_names <- colnames(da38899.0001)
column_names <- colnames(da38899.0002)
desired_columns <- c("ID", "V_BTHYR", "PROV", "TYPE", "RESIDENC", "TRUEAGE", "A1", "A52", "B11", "B12", "B21",
"B22", "B23", "B24", "B25", "B26", "B27", "D1", "D2", "D31", "D32", "D4MEAT2", "D4FISH2",
"D4EGG2", "D4BEAN2", "D4VEG2", "D4SUGA2", "D4TEA2", "D4GARL2", "D5B", "D5C", "D71", "D4MEAT1",
"D4FISH1", "D4EGG1", "D4BEAN1", "D4SUGA1", "D4TEA1", "D4GARL1", "D73", "D75", "D81", "D83",
"D84", "D91", "D11A_0", "D11B_0", "D11C_0", "D11D_0", "D11E_0", "D11F_0", "D11G_0", "D11H_0",
"F1", "F2", "F31", "F32", "F34_0", "D2INCOME", "F41", "F42", "F43A4", "F61", "F72", "F82",
"G1", "G21", "G22", "G3", "G51", "G52", "G10_0", "G11_0", "G13_0", "G15I1_0", "G15A1_0",
"G15G1_0", "D2VAGE", "D2ILL", "G01_11", "G02_5")
setdiff(desired_columns, all_columns)
setdiff(desired_columns, column_names)
da00 = da38899.0002[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
View(da00)
write.xlsx(da00, "Desktop/da00.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0003/38899-0003-Data.rda")
da02 = da38899.0003[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")]
column_names <- colnames(da38899.0002)
column_names <- colnames(da38899.0003)
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")
setdiff(name, column_names)
da02 = da38899.0003[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D5INCOME","F41","F42","F43A4","F61","F722_5","F721_5","F82","G1","G21","G22","G3","G51","G52","G101","G11","G13","G15I1","G15A1","G15G1","DAGE","D5ILL","G01_11","G02_5")]
da02 = da38899.0003[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D5INCOME","F41","F42","F43A4","F61","F722_5","F721_5","F821_5","F822_5","G1","G21","G22","G3","G51","G52","G101","G11","G13","G15I1","G15A1","G15G1","DAGE","D5ILL","G01_11","G02_5")]
write.xlsx(da02, "Desktop/da02.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0004/38899-0004-Data.rda")
column_names <- colnames(da38899.0003)
column_names <- colnames(da38899.0004)
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D2INCOME","F41","F42","F43A4","F61","F72","F82","G1","G21","G22","G3","G51","G52","G10","G11","G13","G15I1","G15A1","G15G1","D2VAGE","D2ILL","G01_11","G02_5")
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F32","F34","D5INCOME","F41","F42","F43A4","F61","F722_5","F721_5","F821_5","F822_5","G1","G21","G22","G3","G51","G52","G101","G11","G13","G15I1","G15A1","G15G1","DAGE","D5ILL","G01_11","G02_5")
setdiff(name, column_names)
da05 = da38899.0004[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D8INCOME","F41","F42","F43A4","F61","F722_8","F721_8","F821_8","F822_8","G1","G21","G22","G3","G51","G52","G101","G11","G13","G15I1","G15A1","G15G1","DAGE","D8ILL","G01_11","G02_8")]
write.xlsx(da05, "Desktop/da05.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0005/38899-0005-Data.rda")
column_names <- colnames(da38899.0005)
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D8INCOME","F41","F42","F43A4","F61","F722_8","F721_8","F821_8","F822_8","G1","G21","G22","G3","G51","G52","G101","G11","G13","G15I1","G15A1","G15G1","DAGE","D8ILL","G01_11","G02_8")
setdiff(name, column_names)
da08 = da38899.0005[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D11INCOME","F41","F42","F43A4","F61","F722_11","F721_11","F821_11","F822_11","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D11ILL","G01_11","G02_11")]
write.xlsx(da08, "Desktop/da08.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0006/38899-0006-Data.rda")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0006/38899-0006-Data.rda")
column_names <- colnames(da38899.0006)
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D11INCOME","F41","F42","F43A4","F61","F722_11","F721_11","F821_11","F822_11","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D11ILL","G01_11","G02_11")
setdiff(name, column_names)
da11 = da38899.0006[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D14INCOME","F41","F42","F43A4","F61","F722_14","F721_14","F821_14","F822_14","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D14ILL","G01_14","G02_14")]
write.xlsx(da11, "Desktop/da11.xlsx")
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0007/38899-0007-Data.rda")
column_names <- colnames(da38899.0007)
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D14INCOME","F41","F42","F43A4","F61","F722_14","F721_14","F821_14","F822_14","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D14ILL","G01_14","G02_14")
setdiff(name, column_names)
da14 = da38899.0007[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D18INCOME","F41","F42","F43A4","F61","F722_18","F721_18","F821_18","F822_18","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D18ILL","G01_18","G02_18")]
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D18INCOME","F41","F42","F43A4","F61","F722_18","F721_18","F821_18","F822_18","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D18ILL","G01_18","G02_18")
setdiff(name, column_names)
da14 = da38899.0007[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D18INCOME","F41","F42","F43A4","F61","F722_18","F721_18","F821_18","F822_18","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D18ILL","G01","G02")]
write.xlsx(da14, "Desktop/da14.xlsx")
View(da14)
load("~/Desktop/毕设/ICPSR_38899 中国老年健康影响因素跟踪调查(CLHLS)-追踪数据（1998-2018）/DS0008/38899-0008-Data.rda")
column_names <- colnames(da38899.0008)
name = c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","D18INCOME","F41","F42","F43A4","F61","F722_18","F721_18","F821_18","F822_18","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","DAGE","D18ILL","G01_18","G02_18")
setdiff(name, column_names)
da18 = da38899.0008[c("ID","V_BTHYR","PROV","TYPE","RESIDENC","TRUEAGE","A1","A52","B11","B12","B21","B22","B23","B24","B25","B26","B27","D1","D2","D31","D32","D4MEAT2","D4FISH2","D4EGG2","D4BEAN2","D4VEG2","D4SUGA2","D4TEA2","D4GARL2","D6B","D6C","D5","D71","D4MEAT1","D4FISH1","D4EGG1","D4BEAN1","D4SUGA1","D4TEA1","D4GARL1","D73","D75","D81","D83","D84","D91","D11A","D11B1","D11C","D11D","D11E","D11F","D11G","D11H","F1","F2","F31","F34","F35","F41","F42","F43A4","F61","F722","F721","F821","F822","G1","G21","G22","G3","G511","G521","G101","G11","G131","G15I1","G15A1","G15G1","B310A","B310B")]
write.xlsx(da18, "Desktop/da18.xlsx")
# 加载必要的包
library(ggplot2)
library(dplyr)
library(tidyr)
# 数据
data <- data.frame(
Category = c("Diabetes", "Stroke or cvd", "Emphysema", "Artheitis"),
Train_1 = c(286, 378, 531, 445),
Train_0 = c(572, 757, 1062, 891),
Test_1 = c(123, 163, 228, 192),
Test_0 = c(246, 325, 456, 383)
)
# 将数据转换为长格式
data_long <- data %>%
pivot_longer(cols = -Category, names_to = "Group", values_to = "Count")
# 计算比例
data_long <- data_long %>%
group_by(Category) %>%
mutate(Percentage = Count / sum(Count) * 100)
# 自定义颜色
colors <- c("Train_1" = "#ff9999", "Train_0" = "#66b3ff", "Test_1" = "#99ff99", "Test_0" = "#ffcc99")
# 绘制饼图
for (category in unique(data_long$Category)) {
# 筛选当前类别的数据
subset_data <- data_long %>% filter(Category == category)
# 绘制饼图
pie <- ggplot(subset_data, aes(x = "", y = Count, fill = Group)) +
geom_bar(stat = "identity", width = 1) +
coord_polar("y", start = 0) +
geom_text(aes(label = paste0(round(Percentage, 1), "%\n(", Count, ")")),
position = position_stack(vjust = 0.5), size = 4) +
scale_fill_manual(values = colors) +
labs(title = paste(category, "Distribution"), x = NULL, y = NULL) +
theme_void() +
theme(legend.position = "bottom", plot.title = element_text(hjust = 0.5, size = 14))
# 显示饼图
print(pie)
}
